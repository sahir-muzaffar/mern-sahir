{"ast":null,"code":"import React, { useState, useRef, useEffect, createContext, useMemo, useContext, useCallback } from 'react';\n\nfunction useLoadGsiScript(options = {}) {\n  const {\n    onScriptLoadSuccess,\n    onScriptLoadError\n  } = options;\n  const [scriptLoadedSuccessfully, setScriptLoadedSuccessfully] = useState(false);\n  const onScriptLoadSuccessRef = useRef(onScriptLoadSuccess);\n  onScriptLoadSuccessRef.current = onScriptLoadSuccess;\n  const onScriptLoadErrorRef = useRef(onScriptLoadError);\n  onScriptLoadErrorRef.current = onScriptLoadError;\n  useEffect(() => {\n    const scriptTag = document.createElement('script');\n    scriptTag.src = 'https://accounts.google.com/gsi/client';\n    scriptTag.async = true;\n    scriptTag.defer = true;\n\n    scriptTag.onload = () => {\n      var _a;\n\n      setScriptLoadedSuccessfully(true);\n      (_a = onScriptLoadSuccessRef.current) === null || _a === void 0 ? void 0 : _a.call(onScriptLoadSuccessRef);\n    };\n\n    scriptTag.onerror = () => {\n      var _a;\n\n      setScriptLoadedSuccessfully(false);\n      (_a = onScriptLoadErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onScriptLoadErrorRef);\n    };\n\n    document.body.appendChild(scriptTag);\n    return () => {\n      document.body.removeChild(scriptTag);\n    };\n  }, []);\n  return scriptLoadedSuccessfully;\n}\n\nconst GoogleOAuthContext = createContext(null);\n\nfunction GoogleOAuthProvider({\n  clientId,\n  onScriptLoadSuccess,\n  onScriptLoadError,\n  children\n}) {\n  const scriptLoadedSuccessfully = useLoadGsiScript({\n    onScriptLoadSuccess,\n    onScriptLoadError\n  });\n  const contextValue = useMemo(() => ({\n    clientId,\n    scriptLoadedSuccessfully\n  }), [clientId, scriptLoadedSuccessfully]);\n  return React.createElement(GoogleOAuthContext.Provider, {\n    value: contextValue\n  }, children);\n}\n\nfunction useGoogleOAuth() {\n  const context = useContext(GoogleOAuthContext);\n\n  if (!context) {\n    throw new Error('Google OAuth components must be used within GoogleOAuthProvider');\n  }\n\n  return context;\n}\n\nconst containerHeightMap = {\n  large: 40,\n  medium: 32,\n  small: 20\n};\n\nfunction GoogleLogin({\n  onSuccess,\n  onError,\n  useOneTap,\n  promptMomentNotification,\n  type = 'standard',\n  theme = 'outline',\n  size = 'large',\n  text,\n  shape,\n  logo_alignment,\n  width,\n  locale,\n  ...props\n}) {\n  const btnContainerRef = useRef(null);\n  const {\n    clientId,\n    scriptLoadedSuccessfully\n  } = useGoogleOAuth();\n  const onSuccessRef = useRef(onSuccess);\n  onSuccessRef.current = onSuccess;\n  const onErrorRef = useRef(onError);\n  onErrorRef.current = onError;\n  const promptMomentNotificationRef = useRef(promptMomentNotification);\n  promptMomentNotificationRef.current = promptMomentNotification;\n  useEffect(() => {\n    var _a, _b, _c;\n\n    if (!scriptLoadedSuccessfully) return;\n    (_a = window.google) === null || _a === void 0 ? void 0 : _a.accounts.id.initialize({\n      client_id: clientId,\n      callback: credentialResponse => {\n        var _a;\n\n        if (!credentialResponse.clientId || !credentialResponse.credential) {\n          return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef);\n        }\n\n        onSuccessRef.current(credentialResponse);\n      },\n      ...props\n    });\n    (_b = window.google) === null || _b === void 0 ? void 0 : _b.accounts.id.renderButton(btnContainerRef.current, {\n      type,\n      theme,\n      size,\n      text,\n      shape,\n      logo_alignment,\n      width,\n      locale\n    });\n    if (useOneTap) (_c = window.google) === null || _c === void 0 ? void 0 : _c.accounts.id.prompt(promptMomentNotificationRef.current);\n    return () => {\n      var _a;\n\n      if (useOneTap) (_a = window.google) === null || _a === void 0 ? void 0 : _a.accounts.id.cancel();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [clientId, scriptLoadedSuccessfully, useOneTap, type, theme, size, text, shape, logo_alignment, width, locale]);\n  return React.createElement(\"div\", {\n    ref: btnContainerRef,\n    style: {\n      height: containerHeightMap[size]\n    }\n  });\n}\n\nfunction googleLogout() {\n  var _a;\n\n  (_a = window.google) === null || _a === void 0 ? void 0 : _a.accounts.id.disableAutoSelect();\n}\n/* eslint-disable import/export */\n\n\nfunction useGoogleLogin({\n  flow = 'implicit',\n  scope = '',\n  onSuccess,\n  onError,\n  ...props\n}) {\n  const {\n    clientId,\n    scriptLoadedSuccessfully\n  } = useGoogleOAuth();\n  const clientRef = useRef();\n  const onSuccessRef = useRef(onSuccess);\n  onSuccessRef.current = onSuccess;\n  const onErrorRef = useRef(onError);\n  onErrorRef.current = onError;\n  useEffect(() => {\n    var _a;\n\n    if (!scriptLoadedSuccessfully) return;\n    const clientMethod = flow === 'implicit' ? 'initTokenClient' : 'initCodeClient';\n    const client = (_a = window.google) === null || _a === void 0 ? void 0 : _a.accounts.oauth2[clientMethod]({\n      client_id: clientId,\n      scope: `openid profile email ${scope}`,\n      callback: response => {\n        var _a, _b;\n\n        if (response.error) return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef, response);\n        (_b = onSuccessRef.current) === null || _b === void 0 ? void 0 : _b.call(onSuccessRef, response);\n      },\n      ...props\n    });\n    clientRef.current = client; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [clientId, scriptLoadedSuccessfully, flow, scope]);\n  const loginImplicitFlow = useCallback(overrideConfig => clientRef.current.requestAccessToken(overrideConfig), []);\n  const loginAuthCodeFlow = useCallback(() => clientRef.current.requestCode(), []);\n  return flow === 'implicit' ? loginImplicitFlow : loginAuthCodeFlow;\n}\n\nfunction useGoogleOneTapLogin({\n  onSuccess,\n  onError,\n  promptMomentNotification,\n  cancel_on_tap_outside,\n  hosted_domain\n}) {\n  const {\n    clientId,\n    scriptLoadedSuccessfully\n  } = useGoogleOAuth();\n  const onSuccessRef = useRef(onSuccess);\n  onSuccessRef.current = onSuccess;\n  const onErrorRef = useRef(onError);\n  onErrorRef.current = onError;\n  const promptMomentNotificationRef = useRef(promptMomentNotification);\n  promptMomentNotificationRef.current = promptMomentNotification;\n  useEffect(() => {\n    var _a, _b;\n\n    if (!scriptLoadedSuccessfully) return;\n    (_a = window.google) === null || _a === void 0 ? void 0 : _a.accounts.id.initialize({\n      client_id: clientId,\n      callback: credentialResponse => {\n        var _a;\n\n        if (!credentialResponse.clientId || !credentialResponse.credential) {\n          return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef);\n        }\n\n        onSuccessRef.current(credentialResponse);\n      },\n      hosted_domain,\n      cancel_on_tap_outside\n    });\n    (_b = window.google) === null || _b === void 0 ? void 0 : _b.accounts.id.prompt(promptMomentNotificationRef.current);\n    return () => {\n      var _a;\n\n      (_a = window.google) === null || _a === void 0 ? void 0 : _a.accounts.id.cancel();\n    };\n  }, [clientId, scriptLoadedSuccessfully, cancel_on_tap_outside, hosted_domain]);\n}\n/**\r\n * Checks if the user granted all the specified scope or scopes\r\n * @returns True if all the scopes are granted\r\n */\n\n\nfunction hasGrantedAllScopesGoogle(tokenResponse, firstScope, ...restScopes) {\n  if (!window.google) return false;\n  return window.google.accounts.oauth2.hasGrantedAllScopes(tokenResponse, firstScope, ...restScopes);\n}\n/**\r\n * Checks if the user granted any of the specified scope or scopes.\r\n * @returns True if any of the scopes are granted\r\n */\n\n\nfunction hasGrantedAnyScopeGoogle(tokenResponse, firstScope, ...restScopes) {\n  if (!window.google) return false;\n  return window.google.accounts.oauth2.hasGrantedAnyScope(tokenResponse, firstScope, ...restScopes);\n}\n\nexport { GoogleLogin, GoogleOAuthProvider, googleLogout, hasGrantedAllScopesGoogle, hasGrantedAnyScopeGoogle, useGoogleLogin, useGoogleOneTapLogin };","map":{"version":3,"sources":["/Users/sahirmuzaffar/Desktop/project_mern_memories-PART_1_and_2/client/node_modules/@react-oauth/google/dist/index.esm.js"],"names":["React","useState","useRef","useEffect","createContext","useMemo","useContext","useCallback","useLoadGsiScript","options","onScriptLoadSuccess","onScriptLoadError","scriptLoadedSuccessfully","setScriptLoadedSuccessfully","onScriptLoadSuccessRef","current","onScriptLoadErrorRef","scriptTag","document","createElement","src","async","defer","onload","_a","call","onerror","body","appendChild","removeChild","GoogleOAuthContext","GoogleOAuthProvider","clientId","children","contextValue","Provider","value","useGoogleOAuth","context","Error","containerHeightMap","large","medium","small","GoogleLogin","onSuccess","onError","useOneTap","promptMomentNotification","type","theme","size","text","shape","logo_alignment","width","locale","props","btnContainerRef","onSuccessRef","onErrorRef","promptMomentNotificationRef","_b","_c","window","google","accounts","id","initialize","client_id","callback","credentialResponse","credential","renderButton","prompt","cancel","ref","style","height","googleLogout","disableAutoSelect","useGoogleLogin","flow","scope","clientRef","clientMethod","client","oauth2","response","error","loginImplicitFlow","overrideConfig","requestAccessToken","loginAuthCodeFlow","requestCode","useGoogleOneTapLogin","cancel_on_tap_outside","hosted_domain","hasGrantedAllScopesGoogle","tokenResponse","firstScope","restScopes","hasGrantedAllScopes","hasGrantedAnyScopeGoogle","hasGrantedAnyScope"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect, createContext, useMemo, useContext, useCallback } from 'react';\n\nfunction useLoadGsiScript(options = {}) {\r\n    const { onScriptLoadSuccess, onScriptLoadError } = options;\r\n    const [scriptLoadedSuccessfully, setScriptLoadedSuccessfully] = useState(false);\r\n    const onScriptLoadSuccessRef = useRef(onScriptLoadSuccess);\r\n    onScriptLoadSuccessRef.current = onScriptLoadSuccess;\r\n    const onScriptLoadErrorRef = useRef(onScriptLoadError);\r\n    onScriptLoadErrorRef.current = onScriptLoadError;\r\n    useEffect(() => {\r\n        const scriptTag = document.createElement('script');\r\n        scriptTag.src = 'https://accounts.google.com/gsi/client';\r\n        scriptTag.async = true;\r\n        scriptTag.defer = true;\r\n        scriptTag.onload = () => {\r\n            var _a;\r\n            setScriptLoadedSuccessfully(true);\r\n            (_a = onScriptLoadSuccessRef.current) === null || _a === void 0 ? void 0 : _a.call(onScriptLoadSuccessRef);\r\n        };\r\n        scriptTag.onerror = () => {\r\n            var _a;\r\n            setScriptLoadedSuccessfully(false);\r\n            (_a = onScriptLoadErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onScriptLoadErrorRef);\r\n        };\r\n        document.body.appendChild(scriptTag);\r\n        return () => {\r\n            document.body.removeChild(scriptTag);\r\n        };\r\n    }, []);\r\n    return scriptLoadedSuccessfully;\r\n}\n\nconst GoogleOAuthContext = createContext(null);\r\nfunction GoogleOAuthProvider({ clientId, onScriptLoadSuccess, onScriptLoadError, children, }) {\r\n    const scriptLoadedSuccessfully = useLoadGsiScript({\r\n        onScriptLoadSuccess,\r\n        onScriptLoadError,\r\n    });\r\n    const contextValue = useMemo(() => ({\r\n        clientId,\r\n        scriptLoadedSuccessfully,\r\n    }), [clientId, scriptLoadedSuccessfully]);\r\n    return (React.createElement(GoogleOAuthContext.Provider, { value: contextValue }, children));\r\n}\r\nfunction useGoogleOAuth() {\r\n    const context = useContext(GoogleOAuthContext);\r\n    if (!context) {\r\n        throw new Error('Google OAuth components must be used within GoogleOAuthProvider');\r\n    }\r\n    return context;\r\n}\n\nconst containerHeightMap = { large: 40, medium: 32, small: 20 };\r\nfunction GoogleLogin({ onSuccess, onError, useOneTap, promptMomentNotification, type = 'standard', theme = 'outline', size = 'large', text, shape, logo_alignment, width, locale, ...props }) {\r\n    const btnContainerRef = useRef(null);\r\n    const { clientId, scriptLoadedSuccessfully } = useGoogleOAuth();\r\n    const onSuccessRef = useRef(onSuccess);\r\n    onSuccessRef.current = onSuccess;\r\n    const onErrorRef = useRef(onError);\r\n    onErrorRef.current = onError;\r\n    const promptMomentNotificationRef = useRef(promptMomentNotification);\r\n    promptMomentNotificationRef.current = promptMomentNotification;\r\n    useEffect(() => {\r\n        var _a, _b, _c;\r\n        if (!scriptLoadedSuccessfully)\r\n            return;\r\n        (_a = window.google) === null || _a === void 0 ? void 0 : _a.accounts.id.initialize({\r\n            client_id: clientId,\r\n            callback: (credentialResponse) => {\r\n                var _a;\r\n                if (!credentialResponse.clientId || !credentialResponse.credential) {\r\n                    return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef);\r\n                }\r\n                onSuccessRef.current(credentialResponse);\r\n            },\r\n            ...props,\r\n        });\r\n        (_b = window.google) === null || _b === void 0 ? void 0 : _b.accounts.id.renderButton(btnContainerRef.current, {\r\n            type,\r\n            theme,\r\n            size,\r\n            text,\r\n            shape,\r\n            logo_alignment,\r\n            width,\r\n            locale,\r\n        });\r\n        if (useOneTap)\r\n            (_c = window.google) === null || _c === void 0 ? void 0 : _c.accounts.id.prompt(promptMomentNotificationRef.current);\r\n        return () => {\r\n            var _a;\r\n            if (useOneTap)\r\n                (_a = window.google) === null || _a === void 0 ? void 0 : _a.accounts.id.cancel();\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [\r\n        clientId,\r\n        scriptLoadedSuccessfully,\r\n        useOneTap,\r\n        type,\r\n        theme,\r\n        size,\r\n        text,\r\n        shape,\r\n        logo_alignment,\r\n        width,\r\n        locale,\r\n    ]);\r\n    return (React.createElement(\"div\", { ref: btnContainerRef, style: { height: containerHeightMap[size] } }));\r\n}\n\nfunction googleLogout() {\r\n    var _a;\r\n    (_a = window.google) === null || _a === void 0 ? void 0 : _a.accounts.id.disableAutoSelect();\r\n}\n\n/* eslint-disable import/export */\r\nfunction useGoogleLogin({ flow = 'implicit', scope = '', onSuccess, onError, ...props }) {\r\n    const { clientId, scriptLoadedSuccessfully } = useGoogleOAuth();\r\n    const clientRef = useRef();\r\n    const onSuccessRef = useRef(onSuccess);\r\n    onSuccessRef.current = onSuccess;\r\n    const onErrorRef = useRef(onError);\r\n    onErrorRef.current = onError;\r\n    useEffect(() => {\r\n        var _a;\r\n        if (!scriptLoadedSuccessfully)\r\n            return;\r\n        const clientMethod = flow === 'implicit' ? 'initTokenClient' : 'initCodeClient';\r\n        const client = (_a = window.google) === null || _a === void 0 ? void 0 : _a.accounts.oauth2[clientMethod]({\r\n            client_id: clientId,\r\n            scope: `openid profile email ${scope}`,\r\n            callback: (response) => {\r\n                var _a, _b;\r\n                if (response.error)\r\n                    return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef, response);\r\n                (_b = onSuccessRef.current) === null || _b === void 0 ? void 0 : _b.call(onSuccessRef, response);\r\n            },\r\n            ...props,\r\n        });\r\n        clientRef.current = client;\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [clientId, scriptLoadedSuccessfully, flow, scope]);\r\n    const loginImplicitFlow = useCallback((overrideConfig) => clientRef.current.requestAccessToken(overrideConfig), []);\r\n    const loginAuthCodeFlow = useCallback(() => clientRef.current.requestCode(), []);\r\n    return flow === 'implicit' ? loginImplicitFlow : loginAuthCodeFlow;\r\n}\n\nfunction useGoogleOneTapLogin({ onSuccess, onError, promptMomentNotification, cancel_on_tap_outside, hosted_domain, }) {\r\n    const { clientId, scriptLoadedSuccessfully } = useGoogleOAuth();\r\n    const onSuccessRef = useRef(onSuccess);\r\n    onSuccessRef.current = onSuccess;\r\n    const onErrorRef = useRef(onError);\r\n    onErrorRef.current = onError;\r\n    const promptMomentNotificationRef = useRef(promptMomentNotification);\r\n    promptMomentNotificationRef.current = promptMomentNotification;\r\n    useEffect(() => {\r\n        var _a, _b;\r\n        if (!scriptLoadedSuccessfully)\r\n            return;\r\n        (_a = window.google) === null || _a === void 0 ? void 0 : _a.accounts.id.initialize({\r\n            client_id: clientId,\r\n            callback: (credentialResponse) => {\r\n                var _a;\r\n                if (!credentialResponse.clientId || !credentialResponse.credential) {\r\n                    return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef);\r\n                }\r\n                onSuccessRef.current(credentialResponse);\r\n            },\r\n            hosted_domain,\r\n            cancel_on_tap_outside,\r\n        });\r\n        (_b = window.google) === null || _b === void 0 ? void 0 : _b.accounts.id.prompt(promptMomentNotificationRef.current);\r\n        return () => {\r\n            var _a;\r\n            (_a = window.google) === null || _a === void 0 ? void 0 : _a.accounts.id.cancel();\r\n        };\r\n    }, [\r\n        clientId,\r\n        scriptLoadedSuccessfully,\r\n        cancel_on_tap_outside,\r\n        hosted_domain,\r\n    ]);\r\n}\n\n/**\r\n * Checks if the user granted all the specified scope or scopes\r\n * @returns True if all the scopes are granted\r\n */\r\nfunction hasGrantedAllScopesGoogle(tokenResponse, firstScope, ...restScopes) {\r\n    if (!window.google)\r\n        return false;\r\n    return window.google.accounts.oauth2.hasGrantedAllScopes(tokenResponse, firstScope, ...restScopes);\r\n}\n\n/**\r\n * Checks if the user granted any of the specified scope or scopes.\r\n * @returns True if any of the scopes are granted\r\n */\r\nfunction hasGrantedAnyScopeGoogle(tokenResponse, firstScope, ...restScopes) {\r\n    if (!window.google)\r\n        return false;\r\n    return window.google.accounts.oauth2.hasGrantedAnyScope(tokenResponse, firstScope, ...restScopes);\r\n}\n\nexport { GoogleLogin, GoogleOAuthProvider, googleLogout, hasGrantedAllScopesGoogle, hasGrantedAnyScopeGoogle, useGoogleLogin, useGoogleOneTapLogin };\n"]},"metadata":{},"sourceType":"module"}